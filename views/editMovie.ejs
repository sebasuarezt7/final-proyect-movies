<%- include('partials/header') %>

<main>
  <h1>Edit Movie</h1>

  <% if (errors && errors.length > 0) { %>
    <% errors.forEach(err => { %>
      <p class="error-message"><%= err %></p>
    <% }) %>
  <% } %>

  <form action="/movies/edit/<%= movie._id %>" method="POST">
    
    <label>Name</label>
    <input type="text" name="name" value="<%= movie.name %>">

    <label>Description</label>
    <textarea name="description"><%= movie.description %></textarea>

    <label>Year</label>
    <input type="number" name="year" value="<%= movie.year %>">

    <label>Genres (comma-separated)</label>
    <input type="text" name="genres" value="<%= movie.genres.join(', ') %>">

    <label>Rating</label>
    <input type="number" name="rating" step="0.1" value="<%= movie.rating %>">

    <button class="btn btn-primary">Save Changes</button>
  </form>
</main>

<%- include('partials/footer') %>